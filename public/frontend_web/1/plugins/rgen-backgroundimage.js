!function i(a,u,l){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,u,l)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isBgimg=function(e){return!!r.getHolder(e)};var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./Utils"))},{"./Utils":3}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o=novi.react.React,i=novi.react.Component,a=novi.ui.input,u=novi.ui.button,l=novi.language,c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.state={settings:{querySelector:e.settings.querySelector}},t.saveSettings=t.saveSettings.bind(t),t.onChange=t.onChange.bind(t),t.messages=l.getDataByKey("rgen-backgroundimage"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i),r(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({settings:{querySelector:e.settings.querySelector}})}},{key:"render",value:function(){return o.createElement("div",null,o.createElement("span",{style:{letterSpacing:"0,0462em"}},"R.Gen Background Image Plugin"),o.createElement("div",{style:{fontSize:13,color:"#6E778A",marginTop:21}},this.messages.settings.inputPlaceholder),o.createElement(a,{style:{marginTop:10,width:340},value:this.state.settings.querySelector,onChange:this.onChange}),o.createElement("div",{style:{marginTop:30}},o.createElement(u,{type:"primary",messages:{textContent:this.messages.settings.submitButton},onClick:this.saveSettings})))}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({settings:{querySelector:t}})}},{key:"saveSettings",value:function(){novi.plugins.settings.update("rgen-backgroundimage",this.state.settings)}}]),n}();n.default=c},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getHolder=function(e){return e.querySelector("[data-bgholder=bg-img]")},n.rgenjs=function(){return document.querySelector(".viewport-frame").contentWindow.rgen};novi.utils},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./Utils"));var o=novi.react.React,i=(novi.ui.icons,novi.ui.icon),a=(novi.language.getDataByKey("rgen-backgroundimage"),{trigger:o.createElement(i,null,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o.createElement("path",{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}))),tooltip:"Reset background image",closeIcon:"submit",title:"Reset background image",collapsed:!0,onTriggerClick:function(e){var t=r.getHolder(e);if(!t)return;novi.element.removeAttribute(t,"data-bg"),t.style.backgroundImage="url()"}});n.default=a},{"./Utils":3}],5:[function(e,t,n){"use strict";var r=u(e("./tools_bg")),o=u(e("./Settings")),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./ExcerptFunction")),a=u(e("./reset"));function u(e){return e&&e.__esModule?e:{default:e}}var l=novi.react.React,c=novi.language,s={name:"rgen-backgroundimage",title:"R.Gen Background Image Plugin",description:"R.Gen Plugin for background image customization",version:"1.0.0",dependencies:{novi:"0.9.0"},defaults:{querySelector:".bg-holder",childQuerySelector:'.bg-holder > [data-bgholder="bg-img"]'},ui:{editor:[r.default,a.default],settings:l.createElement(o.default,null)},excerpt:i.isBgimg,onLanguageChange:function(e){c.getDataByKey("rgen-backgroundimage");return e}};novi.plugins.register(s)},{"./ExcerptFunction":1,"./Settings":2,"./reset":4,"./tools_bg":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./Utils"));var r=novi.react.React,i=(novi.ui.icons,novi.ui.icon),a=novi.types,u=(novi.language.getDataByKey("rgen-backgroundimage"),{trigger:r.createElement(i,null,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}))),tooltip:"Manage background",closeIcon:"submit",title:"Manage background image",collapsed:!1,onTriggerClick:function(e){e.offsetWidth,e.offsetHeight;novi.media.choose({onSubmit:function(e,t){var n=t.replace(/['|"]/g,""),r=o.getHolder(e);if(!r)return;novi.element.setAttribute(r,"data-bg",n),r.style.backgroundImage="url("+n+")",r.setAttribute("data-bg",n)}.bind(this,e),width:e.offsetWidth,height:e.offsetHeight,type:a.mediaImage})}});n.default=u},{"./Utils":3}]},{},[5]);