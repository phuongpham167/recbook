!function i(a,l,u){function s(t,e){if(!l[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=l[t]={exports:{}};a[t][0].call(o.exports,function(e){return s(a[t][1][e]||e)},o,o.exports,i,a,l,u)}return l[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./Types"),a=(r=i)&&r.__esModule?r:{default:r};var l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=a.default.COLOR,this.color=null,this.gradient=null,this.gradientString=null}return o(e,[{key:"getColor",value:function(){return this.color}},{key:"getColor1",value:function(e){return this.color=e.style.backgroundColor?e.style.backgroundColor:"rgba(0,0,0,0)",this.color}},{key:"setColor",value:function(e){this.color=e}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=e}},{key:"getGradientString",value:function(){return this.gradientString}},{key:"setGradientString",value:function(e){this.gradientString=e}},{key:"setGradient",value:function(e){this.gradient=e}},{key:"getGradient",value:function(){return this.gradient}}]),e}());n.default=l},{"./Types":5}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isOverlay=function(e){return!!r.getHolder(e)};var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./Utils"))},{"./Utils":6}],3:[function(e,t,n){"use strict";function c(e,t){var n=void 0,r="";for(n=0;n<e.length;n++)"string"==typeof e[n]?r+=e[n]:r+=e[n].source;return new RegExp(r,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.parseGradient=function(e){var t=(r=/\s*,\s*/,o=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,i=c(["(?:",/\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:[0-9]{1,3}\s*,\s*){3}(?:0|0?.[0-9]+)\s*\)/,"|",/[_A-Za-z-][_A-Za-z0-9-]*/,")"],""),a=c([i,"(?:\\s+",o,")?"],""),l=c(["(?:",a,r,")*",a],""),u=c(["(",c(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right)(?:\s+(?:top|bottom))?)|(?:top|bottom))/,")?"],""),")",r,"(",l,")"],"gi"),s=c(["\\s*(",i,")","(?:\\s+","(",o,"))?","(?:",r,"\\s*)?"],"gi"),{gradientSearch:u,colorStopSearch:s}),n=/.*gradient\s*\(((?:\([^\)]*\)|[^\)\(]*)*)\)/.exec(e);var r,o,i,a,l,u,s;if(null!==n)return function(e,t){var n=void 0,r=void 0,o=void 0,i=void 0,a=void 0;if(null!==(r=e.gradientSearch.exec(t)))for(n={original:r[0],colorStopList:[]},r[2]&&(n.angle=r[2]),r[3]&&(n.sideCorner=r[3]),n.sideCorner||n.angle?(r[1]&&(n.line=r[1]),a=r[4]):(a=t,n.original=t),o=e.colorStopSearch.exec(a);null!==o;)i={color:o[1]},o[2]&&(i.position=o[2]),n.colorStopList.push(i),o=e.colorStopSearch.exec(a);return n}(t,n[1]);return!1}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o="rgen-overlay",i=novi.react.React,a=novi.react.Component,l=novi.ui.input,u=novi.ui.button,s=novi.language,c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.state={settings:{querySelector:e.settings.querySelector}},t.saveSettings=t.saveSettings.bind(t),t.onChange=t.onChange.bind(t),t.messages=s.getDataByKey(o),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a),r(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({settings:{querySelector:e.settings.querySelector}})}},{key:"render",value:function(){return i.createElement("div",null,i.createElement("span",{style:{letterSpacing:"0,0462em"}},"R.Gen Overlay Plugin"),i.createElement("div",{style:{fontSize:13,color:"#6E778A",marginTop:21}},this.messages.settings.inputPlaceholder),i.createElement(l,{style:{marginTop:10,width:340},value:this.state.settings.querySelector,onChange:this.onChange}),i.createElement("div",{style:{marginTop:30}},i.createElement(u,{type:"primary",messages:{textContent:this.messages.settings.submitButton},onClick:this.saveSettings})))}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({settings:{querySelector:t}})}},{key:"saveSettings",value:function(){novi.plugins.settings.update(o,this.state.settings)}}]),n}();n.default=c},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={COLOR:"color",GRADIENT:"gradient"}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getHolder=function(e){return e.querySelector("[data-bgholder=overlay]")},n.rgenjs=function(){return document.querySelector(".viewport-frame").contentWindow.rgen};novi.utils},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=o(e("../ColorStore")),u=o(e("../Types")),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("../Utils"));function o(e){return e&&e.__esModule?e:{default:e}}var c="rgen-overlay",i=novi.react.React,d=novi.react.Component,f=novi.ui.toolColor,p=novi.ui.radioGroup,g=novi.ui.toolGradient,y=novi.language,a=function(e){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this)),n=l.default.getGradient()||{angle:45,colorStopList:[{color:"#0fa4f7"},{color:"#01edf7"}],original:"linear-gradient(45deg, #0fa4f7, #01edf7)"},r=s.getHolder(e.element),o=l.default.getColor()||"#109DF7",i=l.default.getType();return i===u.default.GRADIENT&&novi.editor.setBodyHeight(274),t.state={type:i,gradient:n,color:o,initData:{type:i,gradient:n,color:o},element:r},t.messages=y.getDataByKey(c),t.renderColorFields=t.renderColorFields.bind(t),t.renderGradientFields=t.renderGradientFields.bind(t),t.onTypeChange=t.onTypeChange.bind(t),t.onGradientChange=t.onGradientChange.bind(t),t.onColorChange=t.onColorChange.bind(t),t.options=[{label:t.messages.editor.body.colorOption,value:"color"},{label:t.messages.editor.body.gradientOption,value:"gradient"}],t.style="\n            .novi-background-wrap{\n                padding: 16px 12px 0;\n                display: flex;\n                flex-direction: column;\n                color: #6E778A;\n                box-sizing: border-box;\n            }\n            .novi-gradient-tool-wrap{\n                -webkit-animation: fadeIn 0.3s forwards;\n                animation: fadeIn 0.3s forwards;\n            }\n            \n            @-webkit-keyframes fadeIn {\n                from {opacity: 0;}\n                to {opacity: 1;}\n            } \n            \n            @keyframes fadeIn {\n            from {opacity: 0;}\n                to {opacity: 1;}\n            }\n            \n            \n        ",t.updateType=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,d),r(a,[{key:"componentDidUpdate",value:function(){this.updateType&&(novi.editor.setBodyHeight(this.state.type===u.default.GRADIENT?274:169),this.updateType=!1)}},{key:"renderColorFields",value:function(){return this.state.type===u.default.GRADIENT?null:i.createElement("div",null,i.createElement("p",{className:"novi-label",style:{margin:"20px 0 0 5px"}},this.messages.editor.body.colorPlaceholder),i.createElement(f,{direction:"bottom-left",onChange:this.onColorChange,value:this.state.color}))}},{key:"renderGradientFields",value:function(){return this.state.type!==u.default.GRADIENT?null:i.createElement("div",{style:{marginTop:20},className:"novi-gradient-tool-wrap"},i.createElement(g,{value:this.state.gradient,onChange:this.onGradientChange,width:290,height:110}))}},{key:"onGradientChange",value:function(e){l.default.setColor(e.original),l.default.setGradient(e),l.default.setGradientString(e.original),this.setState({gradient:e})}},{key:"render",value:function(){return i.createElement("div",{className:"novi-background-wrap"},i.createElement("style",null,this.style),i.createElement("p",{className:"novi-label",style:{marginTop:0,marginLeft:5}},this.messages.editor.body.bgFillType),i.createElement(p,{options:this.options,value:this.state.type,onChange:this.onTypeChange}),this.renderColorFields(),this.renderGradientFields())}},{key:"onColorChange",value:function(e){l.default.setColor(e),this.setState({color:e})}},{key:"onTypeChange",value:function(e){this.updateType=!0,this.setState({type:e})}}]),a}();n.default=a},{"../ColorStore":1,"../Types":5,"../Utils":6}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=r(e("../ColorStore")),a=r(e("../Types"));function r(e){return e&&e.__esModule?e:{default:e}}var l="rgen-overlay",u=novi.react.React,s=novi.react.Component,c=novi.ui.colorSwatch,d=novi.language,f=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),n=i.default.getType();return t.state={value:n===a.default.COLOR?i.default.getColor1(e.element):i.default.getGradientString()},t.messages=d.getDataByKey(l),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,s),o(r,[{key:"render",value:function(){return u.createElement("div",{style:{display:"flex"}},u.createElement(c,{color:this.state.value}),u.createElement("span",null,this.messages.editor.header))}}]),r}();n.default=f},{"../ColorStore":1,"../Types":5}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),d=i(e("../Utils")),f=o(e("../Types")),p=o(e("../ColorStore")),g=i(e("../GradientUtils"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var a=novi.react.React,l=novi.react.Component,u=novi.ui.colorSwatch,s=function(e){function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),n=d.getHolder(e.element),r=window.getComputedStyle(n,null),o=void 0,i=void 0,a=null;if(o=f.default.COLOR,i=r.backgroundColor,"none"!==r.backgroundImage)if(a=g.parseGradient(r.backgroundImage)){o=f.default.GRADIENT;for(var l=0;l<a.colorStopList.length;l++)a.colorStopList[l].position&&-1<a.colorStopList[l].position.indexOf("px")&&(a.colorStopList[l].position=Math.round(parseInt(a.colorStopList[l].position.replace("px",""))/n.offsetWidth*100)+"%");i=r.backgroundImage,p.default.setGradient(a),p.default.setGradientString(r.backgroundImage),p.default.setColor(null)}else p.default.setGradient(null),p.default.setGradientString(null);else if("rgba(0, 0, 0, 0)"===i)for(var u=n,s=void 0;u&&novi.utils.dom.isElementNode(u);){if(novi.element.hasStaticReference(u)&&"rgba(0, 0, 0, 0)"!==(s=window.getComputedStyle(u,null)).backgroundColor){i=s.backgroundColor;break}u=u.parentNode}return p.default.setType(o),o===f.default.COLOR&&(p.default.setColor(i),p.default.setGradient(null),p.default.setGradientString(null)),t.state={color:i},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l),r(c,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(u,{color:this.state.color}))}}]),c}();n.default=s},{"../ColorStore":1,"../GradientUtils":3,"../Types":5,"../Utils":6}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./Utils"));var o=novi.react.React,i=(novi.ui.icons,novi.ui.icon),a=(novi.language.getDataByKey("rgen-backgroundimage"),{trigger:o.createElement(i,null,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o.createElement("path",{d:"M177.38 206.64L39.03 344.97A24.01 24.01 0 0 0 32 361.94V424L0 480l32 32 56-32h62.06c6.36 0 12.47-2.53 16.97-7.03l138.35-138.33-128-128zm225.552 30.47l16.952 16.95c9.37 9.37 9.37 24.57 0 33.94l-40.973 40.97c-9.292 9.312-24.506 9.434-33.94 0L183.028 167.03c-9.37-9.37-9.37-24.57 0-33.94L224 92.12c9.289-9.309 24.502-9.438 33.94 0l16.992 16.99 82.606-82.601c35.19-35.19 92.5-35.5 128 0 40.49 48.08 29.66 98.34 0 128l-82.606 82.601z"}))),tooltip:"Reset overlay color",closeIcon:"submit",title:"Reset overlay color",collapsed:!0,onTriggerClick:function(e){var t=r.getHolder(e);if(!t)return;novi.element.removeAttribute(t,"data-bgcolor"),t.style.backgroundColor="rgba(0,0,0,0)",t.style.backgroundImage="none"}});n.default=a},{"./Utils":6}],11:[function(e,t,n){"use strict";var r=l(e("./tools_overlay.jsx")),o=l(e("./Settings")),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./ExcerptFunction")),a=l(e("./reset"));function l(e){return e&&e.__esModule?e:{default:e}}var u="rgen-overlay",s=novi.react.React,c=novi.language,d={name:u,title:"R.Gen Overlay Plugin",description:"R.Gen Plugin for overlay customization",version:"1.0.0",dependencies:{novi:"0.9.0"},defaults:{querySelector:".bg-holder",childQuerySelector:'.bg-holder > [data-bgholder="overlay"]'},ui:{editor:[r.default,a.default],settings:s.createElement(o.default,null)},excerpt:i.isOverlay,onLanguageChange:function(e){c.getDataByKey(u);return e}};novi.plugins.register(d)},{"./ExcerptFunction":2,"./Settings":4,"./reset":10,"./tools_overlay.jsx":12}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){{if(e&&e.__esModule)return;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(e("./Utils"));var r=l(e("./editor/Trigger")),o=l(e("./editor/Header")),i=l(e("./editor/Body")),a=l(e("./Types"));l(e("./ColorStore"));function l(e){return e&&e.__esModule?e:{default:e}}var u=novi.language.getDataByKey("rgen-overlay"),s=novi.react.React,c=novi.utils.lodash,d={trigger:s.createElement(r.default,null),header:[s.createElement(o.default,null)],body:[s.createElement(i.default,null)],tooltip:u.editor.tooltip,closeIcon:"submit",title:u.editor.title,width:324,height:169,onSubmit:function(e,t){var n=t[0],r=!0;n.type!==n.initData.type&&(r=!1);switch(n.type){case a.default.COLOR:r&&n.color!==n.initData.color&&(r=!1),r||(novi.element.setInlineStyle(n.element,"background-color",n.color),n.element.style.backgroundColor=n.color,novi.element.setAttribute(n.element,"data-bgcolor",n.color),"none"!==window.getComputedStyle(n.element).backgroundImage&&(novi.element.setInlineStyle(n.element,"background-image","none"),n.element.style.backgroundImage="none"));break;case a.default.GRADIENT:r&&!c.isEqual(n.gradient,n.initData.gradient)&&(r=!1),r||(novi.element.setInlineStyle(n.element,"background-image",n.gradient.original),n.element.style.backgroundImage=n.gradient.original)}},submitOnBlur:!1,collapsed:!1};n.default=d},{"./ColorStore":1,"./Types":5,"./Utils":6,"./editor/Body":7,"./editor/Header":8,"./editor/Trigger":9}]},{},[11]);