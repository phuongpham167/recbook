!function a(s,l,o){function c(e,t){if(!l[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=l[e]={exports:{}};s[e][0].call(r.exports,function(t){return c(s[e][1][t]||t)},r,r.exports,a,s,l,o)}return l[e].exports}for(var u="function"==typeof require&&require,t=0;t<o.length;t++)c(o[t]);return c}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isBgslider=function(t){return!!n.getHolder(t)};var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(t("./Utils"))},{"./Utils":5}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var r="rgen-backgroundslider",a=novi.react.React,s=novi.react.Component,l=novi.ui.input,o=novi.ui.button,c=novi.language,u=function(t){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.state={settings:{querySelector:t.settings.querySelector}},e.saveSettings=e.saveSettings.bind(e),e.onChange=e.onChange.bind(e),e.messages=c.getDataByKey(r),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s),n(i,[{key:"componentWillReceiveProps",value:function(t){this.setState({settings:{querySelector:t.settings.querySelector}})}},{key:"render",value:function(){return a.createElement("div",null,a.createElement("span",{style:{letterSpacing:"0,0462em"}},"R.Gen Background Plugin"),a.createElement("div",{style:{fontSize:13,color:"#6E778A",marginTop:21}},this.messages.settings.inputPlaceholder),a.createElement(l,{style:{marginTop:10,width:340},value:this.state.settings.querySelector,onChange:this.onChange}),a.createElement("div",{style:{marginTop:30}},a.createElement(o,{type:"primary",messages:{textContent:this.messages.settings.submitButton},onClick:this.saveSettings})))}},{key:"onChange",value:function(t){var e=t.target.value;this.setState({settings:{querySelector:e}})}},{key:"saveSettings",value:function(){novi.plugins.settings.update(r,this.state.settings)}}]),i}();i.default=u},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(t("./Utils"));var s="rgen-backgroundslider",l=(novi.ui.input,novi.react.React),o=novi.react.Component,c=(novi.ui.switcher,novi.ui.inputNumber,novi.editor,novi.types),u=novi.language,a=(novi.utils.lodash,function(t){function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));e.ele=t.element;var i=!!$(t.element).find("[data-bgslider]").attr("data-bgslider")&&$(t.element).find("[data-bgslider]").attr("data-bgslider"),n=i?i.split("|"):[],r={parent:t.element.querySelector("[data-bgholder=slider]"),child:t.element.querySelector("[data-bgholder=slider] .bgslider")};return e.projectDir=t.element.ownerDocument.head.querySelector("base").getAttribute("href"),e.state={imgObj:{img1:n[0]?n[0]:null,img2:n[1]?n[1]:null,img3:n[2]?n[2]:null,img4:n[3]?n[3]:null,img5:n[4]?n[4]:null,img6:n[5]?n[5]:null},imgPath:!1,element:r.parent,childElement:r.child},e.commonBgStyles={height:60,display:"block",cursor:"pointer",border:"1px solid rgba(0,0,0,0.5)"},e.style="\n\t\t.pop-tools {\n\t\t\tpadding: 0 12px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\t\t\theight: 100%;\n\t\t\tcolor: #6E778A;\n\t\t}\n\t\t.thumb {\n\t\t\theight: 60px;\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t\tborder: 1px solid rgba(0,0,0,0.5);\n\t\t\tbackground-size: cover;\n\t\t\tposition: relative;\n\t\t\tbackground-color: rgba(255,255,255, 0.2);\n\t\t\tborder-radius: 3px;\n\t\t}\n\t\t.clear {\n\t\t\tfont-size: 16px;\n\t\t\tcolor: #f00;\n\t\t\tposition: absolute;\n\t\t\tright: 10px;\n\t\t\ttop: 6px;\n\t\t\tline-height: 1;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 40px;\n\t\t\tborder: 2px solid #fff;\n\t\t\tz-index: 111;\n\t\t\topacity: 0;\n\t\t}\n\t\t.pop-tools .col-4:hover .clear{\n\t\t\topacity: 1;\n\t\t}\n\t\t",e.messages=u.getDataByKey(s),e.onLoad(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),n(a,[{key:"render",value:function(){var t={img1:this.state.imgObj.img1?"url("+(novi.utils.isRelativeURL(this.state.imgObj.img1)?this.projectDir+this.state.imgObj.img1:this.state.imgObj.img1)+")":"",img2:this.state.imgObj.img2?"url("+(novi.utils.isRelativeURL(this.state.imgObj.img2)?this.projectDir+this.state.imgObj.img2:this.state.imgObj.img2)+")":"",img3:this.state.imgObj.img3?"url("+(novi.utils.isRelativeURL(this.state.imgObj.img3)?this.projectDir+this.state.imgObj.img3:this.state.imgObj.img3)+")":"",img4:this.state.imgObj.img4?"url("+(novi.utils.isRelativeURL(this.state.imgObj.img4)?this.projectDir+this.state.imgObj.img4:this.state.imgObj.img4)+")":"",img5:this.state.imgObj.img5?"url("+(novi.utils.isRelativeURL(this.state.imgObj.img5)?this.projectDir+this.state.imgObj.img5:this.state.imgObj.img5)+")":"",img6:this.state.imgObj.img6?"url("+(novi.utils.isRelativeURL(this.state.imgObj.img6)?this.projectDir+this.state.imgObj.img6:this.state.imgObj.img6)+")":""};return l.createElement("div",{className:"pop-tools"},l.createElement("style",null,this.style),l.createElement("div",{class:"row gt10 mb10"},l.createElement("div",{class:"col-4"},this.state.imgObj.img1?l.createElement("a",{class:"clear",onClick:this.clearBg.bind(this,"img1")},l.createElement("i",{class:"fas fa-times-circle"})):null,l.createElement("span",{class:"thumb",style:{backgroundImage:t.img1},onClick:this.changeBg.bind(this,"img1")})),l.createElement("div",{class:"col-4"},this.state.imgObj.img2?l.createElement("a",{class:"clear",onClick:this.clearBg.bind(this,"img2")},l.createElement("i",{class:"fas fa-times-circle"})):null,l.createElement("span",{class:"thumb",style:{backgroundImage:t.img2},onClick:this.changeBg.bind(this,"img2")})),l.createElement("div",{class:"col-4"},this.state.imgObj.img3?l.createElement("a",{class:"clear",onClick:this.clearBg.bind(this,"img3")},l.createElement("i",{class:"fas fa-times-circle"})):null,l.createElement("span",{class:"thumb",style:{backgroundImage:t.img3},onClick:this.changeBg.bind(this,"img3")})),l.createElement("div",{class:"col-4"},this.state.imgObj.img4?l.createElement("a",{class:"clear",onClick:this.clearBg.bind(this,"img4")},l.createElement("i",{class:"fas fa-times-circle"})):null,l.createElement("span",{class:"thumb",style:{backgroundImage:t.img4},onClick:this.changeBg.bind(this,"img4")})),l.createElement("div",{class:"col-4"},this.state.imgObj.img5?l.createElement("a",{class:"clear",onClick:this.clearBg.bind(this,"img5")},l.createElement("i",{class:"fas fa-times-circle"})):null,l.createElement("span",{class:"thumb",style:{backgroundImage:t.img5},onClick:this.changeBg.bind(this,"img5")})),l.createElement("div",{class:"col-4"},this.state.imgObj.img6?l.createElement("a",{class:"clear",onClick:this.clearBg.bind(this,"img6")},l.createElement("i",{class:"fas fa-times-circle"})):null,l.createElement("span",{class:"thumb",style:{backgroundImage:t.img6},onClick:this.changeBg.bind(this,"img6")}))))}},{key:"changeBg",value:function(e){var t,i=this,n=void 0;(t=this.state.imgObj[e])?(n=novi.utils.isRelativeURL(t)?this.projectDir+t:t,this._loadImage(n).then(function(t){novi.media.choose({onSubmit:i.onSubmit.bind(i,e),width:i.ele.offsetWidth,height:i.ele.offsetHeight,type:c.mediaImage})})):novi.media.choose({onSubmit:this.onSubmit.bind(this,e),width:this.ele.offsetWidth,height:this.ele.offsetHeight,type:c.mediaImage})}},{key:"clearBg",value:function(t){this.state.imgObj[t]=null,this.state.imgPath=r.buildPath(this.state.imgObj),this.setState(this.state)}},{key:"onSubmit",value:function(t,e){this.state.imgObj[t]=e,this.state.imgPath=r.buildPath(this.state.imgObj),this.setState(this.state)}},{key:"_loadImage",value:function(i){return new Promise(function(r,t){var e=new Image;e.src=i,e.onload=function(t){var e=t.target,i=e.naturalWidth,n=e.naturalHeight;r(i/n)}})}},{key:"onLoad",value:function(){this.state.imgPath=r.buildPath(this.state.imgObj),this.setState(this.state)}}]),a}());i.default=a},{"./Utils":5}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=t("./SettingsBody"),a=(n=r)&&n.__esModule?n:{default:n};var s=novi.react.React,l=(novi.ui.icons,novi.ui.icon),o=(novi.utils.lodash,novi.language.getDataByKey("rgen-backgroundslider")),c=s.createElement(l,null,s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},s.createElement("path",{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"}))),u={trigger:c,tooltip:o.editor.settings.tooltip,title:o.editor.settings.title,header:[c,s.createElement("span",null,o.editor.settings.header)],body:[s.createElement(a.default,null)],closeIcon:"submit",onSubmit:function(t,e){var i=e[0];i.imgPath?novi.element.setAttribute(i.childElement,"data-bgslider",i.imgPath):novi.element.removeAttribute(i.childElement,"data-bgslider");novi.page.forceUpdate()},width:350,height:170,submitOnBlur:!1,collapsed:!1};i.default=u},{"./SettingsBody":3}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getHolder=function(t){var e={parent:null,child:null};return e.parent=t.querySelector("[data-bgholder=slider]"),e.child=t.querySelector("[data-bgholder=slider] .bgslider"),!!e.parent&&(!!e.child&&e)},i.rgenjs=function(){return document.querySelector(".viewport-frame").contentWindow.rgen},i.buildPath=function(t){var e=n.values(t);e=n.compact(e);var i=!1;0<e.length&&(i=n.join(e,"|"));return i};novi.utils;var n=novi.utils.lodash},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(t("./Utils"));var r=novi.react.React,a=(novi.ui.icons,novi.ui.icon),s=(novi.language.getDataByKey("rgen-backgroundslider"),{trigger:r.createElement(a,null,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},r.createElement("path",{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"}))),tooltip:"Reset background slider",closeIcon:"submit",title:"Reset background slider",collapsed:!0,onTriggerClick:function(t){var e=n.getHolder(t);if(!e)return;novi.element.removeAttribute(e.child,"data-bgslider"),novi.page.forceUpdate()}});i.default=s},{"./Utils":5}],7:[function(t,e,i){"use strict";var n=l(t("./SettingsItem")),r=l(t("./Settings")),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(t("./ExcerptFunction")),s=l(t("./reset"));function l(t){return t&&t.__esModule?t:{default:t}}var o="rgen-backgroundslider",c=novi.react.React,u=novi.language,g={name:o,title:"R.Gen Background Slider Plugin",description:"R.Gen Plugin for background slider customization",version:"1.0.0",dependencies:{novi:"0.9.0"},defaults:{querySelector:".bg-holder",childQuerySelector:".bg-holder > *"},ui:{editor:[n.default,s.default],settings:c.createElement(r.default,null)},excerpt:a.isBgslider,onLanguageChange:function(t){u.getDataByKey(o);return t}};novi.plugins.register(g)},{"./ExcerptFunction":1,"./Settings":2,"./SettingsItem":4,"./reset":6}]},{},[7]);